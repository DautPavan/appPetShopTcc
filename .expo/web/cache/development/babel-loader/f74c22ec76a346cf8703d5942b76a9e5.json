{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from 'axios';\nimport * as SecureStore from 'expo-secure-store';\nvar api = axios.create({\n  baseURL: 'http://192.168.0.15:45600/api/',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\napi.interceptors.request.use(function _callee(config) {\n  var result;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(SecureStore.getItemAsync('token'));\n\n        case 2:\n          result = _context.sent;\n\n          if (result) {\n            api.defaults.headers.authorization = \"Bearer \" + result;\n            console.log(\"token envio \" + result);\n          }\n\n          return _context.abrupt(\"return\", config);\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n});\nexport default api;","map":{"version":3,"sources":["C:/Users/Daut/Desktop/unip/TCC/mobile/appPetShop/src/services/api.ts"],"names":["axios","SecureStore","api","create","baseURL","headers","interceptors","request","use","config","getItemAsync","result","defaults","authorization","console","log"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,WAAZ,MAA6B,mBAA7B;AAEA,IAAMC,GAAG,GAAGF,KAAK,CAACG,MAAN,CAAa;AACrBC,EAAAA,OAAO,EAAE,gCADY;AAErBC,EAAAA,OAAO,EAAE;AACL,oBAAgB;AADX;AAFY,CAAb,CAAZ;AAOAH,GAAG,CAACI,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,CAA6B,iBAAMC,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAGNR,WAAW,CAACS,YAAZ,CAAyB,OAAzB,CAHM;;AAAA;AAGrBC,UAAAA,MAHqB;;AAIzB,cAAIA,MAAJ,EAAY;AACVT,YAAAA,GAAG,CAACU,QAAJ,CAAaP,OAAb,CAAqBQ,aAArB,eAA+CF,MAA/C;AACAG,YAAAA,OAAO,CAACC,GAAR,CAAY,iBAAiBJ,MAA7B;AACD;;AAPwB,2CASlBF,MATkB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA7B;AAYA,eAAeP,GAAf","sourcesContent":["import axios from 'axios';\r\nimport * as SecureStore from 'expo-secure-store';\r\n\r\nconst api = axios.create({\r\n    baseURL: 'http://192.168.0.15:45600/api/',\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n})\r\n\r\napi.interceptors.request.use(async config => {\r\n    // Declaramos um token manualmente para teste.\r\n    \r\n    let result = await SecureStore.getItemAsync('token');  \r\n    if (result) {\r\n      api.defaults.headers.authorization = `Bearer ${result}`;\r\n      console.log(\"token envio \" + result)\r\n    }\r\n  \r\n    return config;\r\n});\r\n\r\nexport default api;"]},"metadata":{},"sourceType":"module"}